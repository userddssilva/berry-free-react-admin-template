import 'dotenv/config';

import Web3 from 'web3';

// Configuring the connection to an Ethereum node
const web3 = new Web3(new Web3.providers.HttpProvider(process.env.INFURA_API_KEY));

web3.eth.getAccounts((error, accounts) => {
    if (error != null) {
        console.log(error);
    } else if (accounts.length === 0) {
        console.log('Metamask is locked');
    } else {
        web3.eth.defaultAccount = accounts[0];
        console.log(web3.eth.defaultAccount);
    }
})


export default web3;
